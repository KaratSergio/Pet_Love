import{j as e,u as x,a as d,r,f as p,b as j,F as g}from"./index-fc45eef4.js";import{T as w}from"./Title-9c13c75a.js";import{S as N,P as y}from"./Pagination-a3a0cfac.js";const b=s=>s.news.news,S=s=>{var t;return((t=s.news.news)==null?void 0:t.results)||[]},v=({item:s})=>{const t=l=>new Date(l).toLocaleDateString("ua-UA",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\./g,"/");return e.jsxs("div",{className:"w-full max-w-[361px]",children:[e.jsx("img",{className:"rounded-2xl w-full h-full max-h-[226px]",src:s.imgUrl,alt:s.title}),e.jsxs("div",{className:"mt-7 h-full max-h-[220px] flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold line-clamp-2",children:s.title}),e.jsx("p",{className:"font-medium mt-[14px] mb-7 line-clamp-4",children:s.text})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-lightBlack",children:t(s.date)}),e.jsx("a",{className:"text-yellow",href:s.url,target:"_blank",rel:"noopener noreferrer",children:"Read more"})]})]})]})},P=({searchQuery:s,currentPage:t,itemsPerPage:l})=>{const a=x(),c=d(S);return r.useEffect(()=>{a(p({page:t,limit:l,keyword:s}))},[a,t,s,l]),e.jsx("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-16",children:c.length>0?c.map(n=>e.jsx(v,{item:n},n._id)):e.jsx("div",{children:"No results found"})})},D=()=>{const s=x(),[t,l]=r.useState(""),[a,c]=r.useState(1),n=6,o=d(b),m=(o==null?void 0:o.totalPages)||1,h=j(),u=i=>{l(i),c(1)},f=i=>{c(i)};return r.useEffect(()=>{s(p({page:a,limit:n,keyword:t}))},[s,t,a,n]),e.jsx(g,{...h,children:e.jsxs("section",{className:"m-auto max-w-desktop px-5 py-6 sm:px-16 sm:py-8 bg-orange-50",children:[e.jsxs("div",{className:"sm:flex justify-between items-center mb-[60px] mt-[70px]",children:[e.jsx(w,{mainTitleClassName:"sm:text-[54px] mb-5 sm:mb-auto"}),e.jsx(N,{name:"search",placeholder:"Search",onSubmit:u,className:"w-full h-[42px] sm:w-[230px] sm:h-12"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(P,{searchQuery:t,currentPage:a,itemsPerPage:n}),m>1&&e.jsx(y,{currentPage:a,totalPages:m,onPageChange:f,className:"mt-[60px]"})]})]})})};export{D as default};
