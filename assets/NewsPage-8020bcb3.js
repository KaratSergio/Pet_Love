import{j as e,u,a as f,r as i,f as d,b as g,I as m}from"./index-8cd2a333.js";import{T as j}from"./Title-1551ecb5.js";import{P as w}from"./Pagination-21c859b2.js";const N=s=>{var t;return((t=s.news.news)==null?void 0:t.results)||[]},b=({item:s})=>{const t=a=>new Date(a).toLocaleDateString("ua-UA",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\./g,"/");return e.jsxs("div",{className:"w-full max-w-[361px]",children:[e.jsx("img",{className:"rounded-2xl w-full h-full max-h-[226px]",src:s.imgUrl,alt:s.title}),e.jsxs("div",{className:"mt-7 h-full max-h-[220px] flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold line-clamp-2",children:s.title}),e.jsx("p",{className:"font-medium mt-[14px] mb-7 line-clamp-4",children:s.text})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-lightBlack",children:t(s.date)}),e.jsx("a",{className:"text-yellow",href:s.url,target:"_blank",rel:"noopener noreferrer",children:"Read more"})]})]})]})},y=({searchQuery:s})=>{const t=u(),a=f(N),[l,r]=i.useState(1),n=6,o=Math.ceil(a.length/n);i.useEffect(()=>{t(d({page:l,limit:n,keyword:s}))},[t,l,s]);const x=c=>{r(c)};return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-16",children:a.length>0?a.map(c=>e.jsx(b,{item:c},c._id)):e.jsx("div",{children:"No results found"})}),o>1&&e.jsx(w,{currentPage:l,totalPages:o,onPageChange:x,className:"mt-[60px]"})]})},S=({placeholder:s,onSubmit:t,className:a})=>{const{register:l,handleSubmit:r,setValue:n,watch:o}=g(),x=o("search",""),c=()=>{n("search","")},p=h=>{h.search.trim()&&t(h.search)};return e.jsxs("form",{onSubmit:r(p),className:`relative flex items-center ${a}`,children:[e.jsx("input",{...l("search"),placeholder:s||"Search...",type:"text",className:`border p-4 rounded-30 w-full placeholder-lightBlack ${a}`}),x&&e.jsx("button",{type:"button",onClick:c,className:"absolute right-10 text-gray-400 focus:outline-none",children:e.jsx(m,{id:"icon-close",className:"w-5 h-5"})}),e.jsx("button",{type:"submit",className:"absolute right-3 text-gray-400 focus:outline-none",children:e.jsx(m,{id:"icon-search",className:"w-5 h-5"})})]})},C=()=>{const s=u(),[t,a]=i.useState(""),l=r=>{a(r)};return i.useEffect(()=>{s(d({page:1,limit:6,keyword:t}))},[s,t]),e.jsxs("section",{className:"m-auto max-w-desktop px-16 py-8 bg-orange-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-[60px] mt-[70px]",children:[e.jsx(j,{}),e.jsx(S,{placeholder:"Search",onSubmit:l,className:"w-[230px] h-12"})]}),e.jsx(y,{searchQuery:t})]})};export{C as default};
