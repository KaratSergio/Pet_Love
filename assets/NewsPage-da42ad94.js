import{j as e,u as d,a as p,r as m,f,b as j,I as u}from"./index-ac7f8380.js";import{T as g}from"./Title-0dbf737d.js";import{P as w}from"./Pagination-202c9d79.js";const N=s=>s.news.news,b=s=>{var t;return((t=s.news.news)==null?void 0:t.results)||[]},y=({item:s})=>{const t=l=>new Date(l).toLocaleDateString("ua-UA",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\./g,"/");return e.jsxs("div",{className:"w-full max-w-[361px]",children:[e.jsx("img",{className:"rounded-2xl w-full h-full max-h-[226px]",src:s.imgUrl,alt:s.title}),e.jsxs("div",{className:"mt-7 h-full max-h-[220px] flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold line-clamp-2",children:s.title}),e.jsx("p",{className:"font-medium mt-[14px] mb-7 line-clamp-4",children:s.text})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-lightBlack",children:t(s.date)}),e.jsx("a",{className:"text-yellow",href:s.url,target:"_blank",rel:"noopener noreferrer",children:"Read more"})]})]})]})},S=({searchQuery:s,currentPage:t,itemsPerPage:l})=>{const a=d(),n=p(b);return m.useEffect(()=>{a(f({page:t,limit:l,keyword:s}))},[a,t,s,l]),e.jsx("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-16",children:n.length>0?n.map(c=>e.jsx(y,{item:c},c._id)):e.jsx("div",{children:"No results found"})})},v=({placeholder:s,onSubmit:t,className:l})=>{const{register:a,handleSubmit:n,setValue:c,watch:o}=j(),i=o("search",""),x=()=>{c("search","")},h=r=>{r.search.trim()&&t(r.search)};return e.jsxs("form",{onSubmit:n(h),className:`relative flex items-center ${l}`,children:[e.jsx("input",{...a("search"),placeholder:s||"Search...",type:"text",className:`border p-4 rounded-30 w-full placeholder-lightBlack ${l}`}),i&&e.jsx("button",{type:"button",onClick:x,className:"absolute right-10 text-gray-400 focus:outline-none",children:e.jsx(u,{id:"icon-close",className:"w-5 h-5"})}),e.jsx("button",{type:"submit",className:"absolute right-3 text-gray-400 focus:outline-none",children:e.jsx(u,{id:"icon-search",className:"w-5 h-5"})})]})},A=()=>{const s=d(),[t,l]=m.useState(""),[a,n]=m.useState(1),c=6,o=p(N),i=(o==null?void 0:o.totalPages)||1,x=r=>{l(r),n(1)},h=r=>{n(r)};return m.useEffect(()=>{s(f({page:a,limit:c,keyword:t}))},[s,t,a,c]),e.jsxs("section",{className:"m-auto max-w-desktop px-5 py-6 sm:px-16 sm:py-8 bg-orange-50",children:[e.jsxs("div",{className:"sm:flex justify-between items-center mb-[60px] mt-[70px]",children:[e.jsx(g,{mainTitleClassName:"sm:text-[54px] mb-5 sm:mb-auto"}),e.jsx(v,{placeholder:"Search",onSubmit:x,className:"w-full h-[42px] sm:w-[230px] sm:h-12"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(S,{searchQuery:t,currentPage:a,itemsPerPage:c}),i>1&&e.jsx(w,{currentPage:a,totalPages:i,onPageChange:h,className:"mt-[60px]"})]})]})};export{A as default};
